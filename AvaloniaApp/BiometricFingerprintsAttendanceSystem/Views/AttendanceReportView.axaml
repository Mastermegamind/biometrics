<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="BiometricFingerprintsAttendanceSystem.Views.AttendanceReportView">

  <StackPanel Spacing="24">

    <!-- ── Page Header ── -->
    <StackPanel Spacing="6">
      <TextBlock Text="Attendance Report" Classes="PageTitle" />
      <TextBlock Text="Filter, search and view attendance records"
                 Classes="PageSubtitle" />
    </StackPanel>

    <!-- ══════════ Filter Card ══════════ -->
    <Border Classes="GlassCard">
      <StackPanel Spacing="16">
        <TextBlock Text="Filters" Classes="SectionHeader" />

        <Grid ColumnDefinitions="*,*,Auto">
          <StackPanel Grid.Column="0" Spacing="4" Margin="0,0,6,0">
            <TextBlock Text="FROM DATE" Classes="FieldLabel" />
            <TextBox Classes="GlassInput" Watermark="yyyy-MM-dd"
                     Text="{Binding FromDate, Mode=TwoWay}" />
          </StackPanel>
          <StackPanel Grid.Column="1" Spacing="4" Margin="6,0">
            <TextBlock Text="TO DATE" Classes="FieldLabel" />
            <TextBox Classes="GlassInput" Watermark="yyyy-MM-dd"
                     Text="{Binding ToDate, Mode=TwoWay}" />
          </StackPanel>
          <Button Grid.Column="2" Classes="BtnPrimary" Content="Load Records"
                  Command="{Binding LoadCommand}"
                  VerticalAlignment="Bottom" Margin="6,0,0,0" />
        </Grid>

        <Grid ColumnDefinitions="*,Auto">
          <StackPanel Grid.Column="0" Spacing="4" Margin="0,0,12,0">
            <TextBlock Text="STUDENT NAME SEARCH" Classes="FieldLabel" />
            <TextBox Classes="GlassInput" Watermark="Enter student name"
                     Text="{Binding StudentName, Mode=TwoWay}" />
          </StackPanel>
          <Button Grid.Column="1" Classes="BtnSecondary" Content="Count"
                  Command="{Binding CountCommand}"
                  VerticalAlignment="Bottom" />
        </Grid>
      </StackPanel>
    </Border>

    <!-- ══════════ Stats Row ══════════ -->
    <Border Classes="GlassCardSmall">
      <StackPanel Orientation="Horizontal" Spacing="32">
        <StackPanel Spacing="2">
          <TextBlock Text="TOTAL RECORDS" Classes="FieldLabel" />
          <TextBlock Text="{Binding CountText}" FontSize="20" FontWeight="Bold"
                     Foreground="{DynamicResource SecondaryBrush}" />
        </StackPanel>
      </StackPanel>
    </Border>

    <!-- ══════════ Data Grid Card ══════════ -->
    <Border Classes="GlassCard" Padding="0">
      <DataGrid ItemsSource="{Binding Records}" AutoGenerateColumns="False"
                Height="360" Margin="1">
        <DataGrid.Columns>
          <DataGridTextColumn Header="Reg No" Binding="{Binding RegNo}" Width="140" />
          <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="*" />
          <DataGridTextColumn Header="Date" Binding="{Binding Date}" Width="110" />
          <DataGridTextColumn Header="Day" Binding="{Binding Day}" Width="100" />
          <DataGridTextColumn Header="Time In" Binding="{Binding TimeIn}" Width="100" />
          <DataGridTextColumn Header="Time Out" Binding="{Binding TimeOut}" Width="100" />
        </DataGrid.Columns>
      </DataGrid>
    </Border>

    <!-- ── Status ── -->
    <TextBlock Text="{Binding StatusMessage}" Classes="ErrorText"
               IsVisible="{Binding StatusMessage, Converter={x:Static StringConverters.IsNotNullOrEmpty}}" />

  </StackPanel>
</UserControl>
